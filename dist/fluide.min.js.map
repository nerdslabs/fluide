{"version":3,"sources":["../js/polyfills/props.ts","../js/tooltip/main.ts","../js/module.ts","../js/modal/main.ts","../js/scrollbar/events.ts","../js/scrollbar/main.ts","../js/fluide.ts"],"names":["Position","Props","_this","this","tickTimout","tickInstances","fps","setTimeout","tick","prototype","addTickInstance","c","push","forEach","instance","onTick","Object","defineProperty","window","_fluide","Module","el","HTMLElement","document","querySelector","Error","undefined","all","Modal","options","closeable","_super","call","opened","content","bindEvents","__extends","open","classList","add","close","remove","isOpened","setCloseable","state","isCloseable","onclick","event","contains","target","Events","scrollbar","isMac","navigator","platform","match","isWheeling","watcher","onwheel","mouseWheel","scroll","bar","onmousedown","mouseDown","onscroll","userScrolled","ontouchstart","touchStart","onmouseup","mouseUp","ontouchend","touchEnd","scrollHeight","calculateSizes","height","clientHeight","width","clientWidth","preventDefault","currentY","pageY","onmousemove","e","mouseMove","scrollDistance","maxPosition","move","distance","wheelDelta","deltaY","scrollTop","touch","touches","length","ontouchmove","touchMove","setBarPosition","Scrollbar","position","scrollClass","createScroll","style","overflow","display","offsetWidth","visibleProportion","barHeight","className","indexOf","clearTimeout","replace","marginTop","createElement","appendChild","events","parentElement","insertBefore","nextSibling","Tooltip","CLASS","TOP","LEFT","RIGHT","BOTTOM","addEventListener","mouseEnter","mouseLeave","text","getAttribute","tooltip","innerHTML","body","_a","calculatePosition","left","top","mouseScroll","bind","removeChild","getBoundingClientRect","offsetHeight","documentElement","scrollWidth","version","fluide"],"mappings":"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","sourcesContent":["import Module from '../module'\n\nexport default class Props {\n  public tickTimout: NodeJS.Timer = null\n  public tickInstances: Module[] = []\n\n  private fps: number = 1000 / 24\n\n  constructor() {\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  public addTickInstance(c: Module) {\n    this.tickInstances.push(c)\n  }\n\n  public tick() {\n    this.tickInstances.forEach(instance => instance.onTick())\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  static get all(): Props {\n    if (typeof window._fluide === typeof undefined) {\n      window._fluide = new Props()\n    }\n\n    return window._fluide\n  }\n}\n\ndeclare global {\n  interface Window {\n    _fluide: Props\n  }\n}\n","import Module from '../module';\n\nexport enum Position {\n  TOP = 'tooltip-top',\n  BOTTOM = 'tooltip-bottom',\n  LEFT = 'tooltip-left',\n  RIGHT = 'tooltip-right',\n  CLASS = '',\n}\n\nexport default class Tooltip extends Module {\n  public static Position = Position\n\n  private tooltip: HTMLElement\n  private position: Position\n\n  constructor(el: HTMLElement | string, position: Position = Position.CLASS) {\n    super(el)\n\n    if (position === Position.CLASS) {\n      if (this.el.className.indexOf('tooltip-top') > -1) {\n        this.position = Position.TOP\n      } else if (this.el.className.indexOf('tooltip-left') > -1) {\n        this.position = Position.LEFT\n      } else if (this.el.className.indexOf('tooltip-right') > -1) {\n        this.position = Position.RIGHT\n      } else {\n        this.position = Position.BOTTOM\n      }\n    } else {\n      this.position = position\n    }\n\n    this.el.addEventListener('mouseenter', (event) => this.mouseEnter(event))\n    this.el.addEventListener('mouseleave', (event) => this.mouseLeave(event))\n    this.el.addEventListener('touchend', (event) => this.mouseLeave(event))\n    this.el.addEventListener('DOMNodeRemoved', (event) => this.mouseLeave(event as UIEvent))\n  }\n\n  private mouseEnter(this: Tooltip, event: UIEvent) {\n    const text = this.el.getAttribute('alt')\n\n    this.tooltip = document.createElement('div')\n    this.tooltip.classList.add('tooltip', this.position)\n    this.tooltip.innerHTML = text\n\n    document.body.appendChild(this.tooltip)\n\n    const { left, top } = this.calculatePosition()\n\n    this.tooltip.style.left = left + 'px'\n    this.tooltip.style.top = top + 'px'\n\n    window.onscroll = this.mouseScroll.bind(this)\n  }\n\n  private mouseLeave(this: Tooltip, event: UIEvent) {\n    document.body.removeChild(this.tooltip)\n\n    window.onscroll = null\n  }\n\n  private mouseScroll(this: Tooltip, event: UIEvent) {\n    const { left, top } = this.calculatePosition()\n\n    this.tooltip.style.left = left + 'px'\n    this.tooltip.style.top = top + 'px'\n  }\n\n  private calculatePosition() {\n    let left\n    let top\n\n    const position = this.el.getBoundingClientRect()\n\n    if (this.position === Position.BOTTOM) {\n      left = position.left + (this.el.offsetWidth / 2) - (this.tooltip.offsetWidth / 2)\n      top = position.top + this.el.offsetHeight + 10\n    } else if (this.position === Position.TOP) {\n      left = position.left + (this.el.offsetWidth / 2) - (this.tooltip.offsetWidth / 2)\n      top = position.top - this.tooltip.offsetHeight - 10\n    } else if (this.position === Position.LEFT) {\n      left = position.left - this.tooltip.offsetWidth - 10\n      top = position.top + (this.el.offsetHeight / 2) - (this.tooltip.offsetHeight / 2)\n    } else if (this.position === Position.RIGHT) {\n      left = position.left + this.el.offsetWidth + 10\n      top = position.top + (this.el.offsetHeight / 2) - (this.tooltip.offsetHeight / 2)\n    }\n\n    if (left < 0) {\n      left = 0\n    } else if (left + this.tooltip.offsetWidth > document.documentElement.scrollWidth) {\n      left = document.documentElement.scrollWidth - this.tooltip.offsetWidth\n    }\n\n    return {\n      left, top,\n    }\n  }\n\n}\n","import Props from './polyfills/props'\n\nexport default interface Module {\n  onTick()\n}\n\nexport default abstract class Module {\n  public el: HTMLElement\n\n  constructor(el: HTMLElement | string) {\n    if (el instanceof HTMLElement) {\n      this.el = el\n    } else {\n      this.el = document.querySelector(el)\n    }\n\n    if (this.el === null) {\n      throw new Error('Provided Element is null or cannot be found.')\n    }\n\n    if (this.onTick !== undefined) {\n      Props.all.addTickInstance(this)\n    }\n  }\n}\n","import Module from '../module';\n\nexport default class Modal extends Module {\n  private options: Options\n  private opened: boolean = false\n  private content: HTMLElement\n\n  constructor(el: HTMLElement | string, options: Options = {\n    closeable: true,\n  }) {\n    super(el)\n\n    this.content = this.el.querySelector('.modal-content')\n    this.options = options\n\n    this.bindEvents()\n  }\n\n  public open() {\n    this.el.classList.add('visible')\n    this.opened = true\n  }\n\n  public close() {\n    this.el.classList.remove('visible')\n    this.opened = false\n  }\n\n  public isOpened() {\n    return this.opened\n  }\n\n  public setCloseable(state: boolean) {\n    this.options.closeable = state\n    this.bindEvents()\n  }\n\n  public isCloseable(): boolean {\n    return this.options.closeable\n  }\n\n  private bindEvents() {\n    this.el.onclick = (this.options.closeable ? (event: MouseEvent) => {\n      if (this.content.contains(event.target as Node) === false) {\n        this.close()\n      }\n    } : null)\n  }\n}\n\nexport interface Options {\n  closeable: boolean\n}\n","import { debounce } from '../helpers'\nimport Scrollbar from './main'\n\nexport default class Events {\n  private scrollbar: Scrollbar\n  private currentY: number\n\n  private isMac: RegExpMatchArray = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)\n\n  private isWheeling: NodeJS.Timer = null\n\n  private watcher: NodeJS.Timer = null\n  private fps: number = 1000 / 24\n\n  constructor(scrollbar: Scrollbar) {\n    this.scrollbar = scrollbar\n\n    this.scrollbar.el.onwheel = event => this.mouseWheel(event)\n    this.scrollbar.scroll.onwheel = event => this.mouseWheel(event)\n    this.scrollbar.bar.onmousedown = event => this.mouseDown(event)\n    this.scrollbar.el.onscroll = event => this.userScrolled(event)\n\n    this.scrollbar.el.ontouchstart = event => this.touchStart(event)\n\n    document.onmouseup = event => this.mouseUp(event)\n    document.ontouchend = event => this.touchEnd(event)\n\n    // this.watcher = setTimeout(() => this.tick.call(this), this.fps);\n  }\n\n  private tick() {\n    this.watcher = setTimeout(() => this.tick.call(this), this.fps);\n\n    if (this.scrollbar.el.scrollHeight !== this.scrollbar.scrollHeight) {\n      this.scrollbar.calculateSizes.call(this.scrollbar)\n    }\n\n    if (this.scrollbar.height !== this.scrollbar.el.clientHeight || this.scrollbar.width !== this.scrollbar.el.clientWidth) {\n      this.scrollbar.calculateSizes.call(this.scrollbar)\n    }\n  }\n\n  private mouseDown(this: Events, event: MouseEvent) {\n    event.preventDefault()\n    this.currentY = event.pageY\n    document.onmousemove = e => this.mouseMove(e)\n  }\n\n  private mouseMove(this: Events, event: MouseEvent) {\n    event.preventDefault()\n\n    const moveDistance = (event.pageY - this.currentY)\n    const scrollDistance = (moveDistance / this.scrollbar.maxPosition) * (this.scrollbar.scrollHeight - this.scrollbar.height)\n    this.currentY = event.pageY\n\n    this.scrollbar.move(scrollDistance)\n  }\n\n  private mouseWheel(this: Events, event: WheelEvent) {\n    let distance = null\n\n    if (event.wheelDelta && (event.wheelDelta % 120) === 0) {\n      distance = -(event.wheelDelta / 10);\n    } else {\n      distance = event.deltaY\n    }\n\n    if ((distance > 0 && this.scrollbar.el.scrollTop < (this.scrollbar.scrollHeight - this.scrollbar.height)) || (distance < 0 && this.scrollbar.el.scrollTop > 0)) {\n      event.preventDefault()\n      this.scrollbar.move(distance)\n    }\n  }\n\n  private mouseUp(this: Events, event: MouseEvent) {\n    document.onmousemove = null\n  }\n\n  private touchStart(this: Events, event: TouchEvent) {\n    const touch = event.touches[0] || null\n    if (event.touches.length === 1 && touch !== null) {\n      this.currentY = touch.pageY\n      this.scrollbar.el.ontouchmove = e => this.touchMove(e)\n    }\n  }\n\n  private touchMove(this: Events, event: TouchEvent) {\n    event.preventDefault()\n    const touch = event.touches[0] || null\n    if (event.touches.length === 1 && touch !== null) {\n      const moveDistance = (touch.pageY - this.currentY)\n      const scrollDistance = -moveDistance\n      this.currentY = touch.pageY\n\n      this.scrollbar.move(scrollDistance)\n    }\n  }\n\n  private touchEnd(this: Events, event: TouchEvent) {\n    document.ontouchmove = null\n  }\n\n  private userScrolled(this: Events, event: UIEvent) {\n    this.scrollbar.setBarPosition()\n  }\n}\n","import Module from '../module'\nimport Events from './events'\n\nexport default class Scrollbar extends Module {\n\n  public scroll: HTMLElement\n  public bar: HTMLElement\n\n  public scrollHeight: number\n  public maxPosition: number = 0\n\n  public height: number\n  public width: number\n\n  private visibleProportion: number\n\n  private events: Events\n\n  private barHeight: number\n  private position: number = 0\n\n  private scrollClass: NodeJS.Timer = null\n\n  constructor(el: HTMLElement) {\n    super(el)\n\n    this.createScroll()\n    this.calculateSizes()\n  }\n\n  public calculateSizes() {\n    this.el.style.overflow = 'auto'\n    this.height = this.el.clientHeight\n    this.scrollHeight = this.el.scrollHeight\n    this.el.style.overflow = 'hidden'\n    this.el.style.display = 'inline-block'\n\n    this.el.style.width = null\n    this.el.style.width = 'calc(100% - ' + this.scroll.offsetWidth + 'px)'\n    this.width = this.el.clientWidth\n\n    const visibleProportion = this.height / this.scrollHeight\n\n    if (this.height * visibleProportion > 30) {\n      this.visibleProportion = visibleProportion\n      this.barHeight = this.height * visibleProportion\n    } else {\n      this.visibleProportion = 30 / this.height\n      this.barHeight = 30\n    }\n\n    this.maxPosition = this.height - this.barHeight\n\n    this.scroll.style.height = this.height + 'px'\n    this.bar.style.height = this.barHeight + 'px'\n\n    this.setBarPosition()\n  }\n\n  public move(distance: number) {\n    this.el.scrollTop = (distance + this.el.scrollTop)\n\n    this.scroll.className = this.scroll.className.indexOf('scroll-active') > 0 ? this.scroll.className : this.scroll.className + ' scroll-active'\n    clearTimeout(this.scrollClass)\n    this.scrollClass = setTimeout(() => {\n      this.scroll.className = this.scroll.className.replace(/\\s*scroll-active\\s*/g, '')\n    }, 500)\n  }\n\n  public setBarPosition() {\n    const position = (this.el.scrollTop / (this.scrollHeight - this.height)) * this.maxPosition\n\n    if (position <= 0) {\n      this.position = 0;\n    } else if (position < this.maxPosition) {\n      this.position = position;\n    } else {\n      this.position = this.maxPosition;\n    }\n\n    this.bar.style.marginTop = this.position + 'px';\n  }\n\n  public onTick() {\n    if (this.el.scrollHeight !== this.scrollHeight) {\n      this.calculateSizes.call(this)\n    }\n\n    if (this.height !== this.el.clientHeight || this.width !== this.el.clientWidth) {\n      this.calculateSizes.call(this)\n    }\n  }\n\n  private createScroll() {\n    this.scroll = document.createElement('div')\n    this.scroll.className = 'scrollbar-handler'\n\n    this.bar = document.createElement('div')\n    this.bar.className = 'bar'\n\n    this.scroll.appendChild(this.bar)\n\n    this.events = new Events(this)\n\n    this.el.parentElement.insertBefore(this.scroll, this.el.nextSibling)\n  }\n}\n","import Modal from './modal/main'\nimport Scrollbar from './scrollbar/main'\nimport Tooltip from './tooltip/main'\n\nconst version = '__VERSION__'\n\nexport { Modal, Scrollbar, Tooltip, version }\n\nexport default {\n  Scrollbar, Modal, Tooltip, version,\n}\n"]}