{"version":3,"sources":["../ts/polyfills/props.ts","../ts/tooltip/main.ts","../ts/module.ts","../ts/modal/main.ts","../ts/scrollbar/events.ts","../ts/scrollbar/main.ts","../ts/fluide.ts"],"names":["Position","Props","_this","this","tickTimout","tickInstances","fps","setTimeout","tick","prototype","addTickInstance","c","push","forEach","instance","onTick","Object","defineProperty","window","_fluide","Module","el","HTMLElement","document","querySelector","Error","undefined","get","Modal","_super","options","closeable","call","opened","content","bindEvents","tslib_1.__extends","open","classList","add","close","remove","isOpened","setCloseable","state","isCloseable","onclick","event","contains","target","Events","scrollbar","bar","onmousedown","mouseDown","ontouchstart","touchStart","onscroll","userScrolled","onmouseup","mouseUp","ontouchend","touchEnd","preventDefault","currentY","pageY","onmousemove","e","mouseMove","scrollDistance","maxPosition","scrollHeight","height","move","touch","touches","length","ontouchmove","touchMove","setBarPosition","Scrollbar","position","scrollClass","wrap","createScroll","calculateSizes","wrapper","createElement","className","parentNode","insertBefore","appendChild","clientHeight","style","width","clientWidth","visibleProportion","barHeight","scroll","distance","scrollTop","marginTop","clearTimeout","events","parentElement","nextSibling","Tooltip","CLASS","tooltip","indexOf","TOP","LEFT","RIGHT","BOTTOM","addEventListener","mouseEnter","mouseLeave","body","removeChild","updatePosition","show","text","getAttribute","innerHTML","_a","calculatePosition","left","top","hide","getBoundingClientRect","offsetWidth","offsetHeight","documentElement","scrollWidth","Math","round","version","fluide"],"mappings":"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","sourcesContent":["import Module from '../module'\n\nexport default class Props {\n  public tickTimout: NodeJS.Timer = null\n  public tickInstances: Module[] = []\n\n  private fps: number = 1000 / 24\n\n  constructor() {\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  public addTickInstance(c: Module) {\n    this.tickInstances.push(c)\n  }\n\n  public tick() {\n    this.tickInstances.forEach(instance => instance.onTick())\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  static get get(): Props {\n    if (typeof window._fluide === typeof undefined) {\n      window._fluide = new Props()\n    }\n\n    return window._fluide\n  }\n}\n\ndeclare global {\n  interface Window {\n    _fluide: Props\n  }\n}\n","import Module from '../module';\n\nexport enum Position {\n  TOP = 'tooltip-top',\n  BOTTOM = 'tooltip-bottom',\n  LEFT = 'tooltip-left',\n  RIGHT = 'tooltip-right',\n  CLASS = '',\n}\n\nexport default class Tooltip extends Module {\n  public static Position = Position\n\n  private tooltip: HTMLElement = null\n  private position: Position\n\n  constructor(el: HTMLElement | string, position: Position = Position.CLASS) {\n    super(el)\n\n    if (position === Position.CLASS) {\n      if (this.el.className.indexOf('tooltip-top') > -1) {\n        this.position = Position.TOP\n      } else if (this.el.className.indexOf('tooltip-left') > -1) {\n        this.position = Position.LEFT\n      } else if (this.el.className.indexOf('tooltip-right') > -1) {\n        this.position = Position.RIGHT\n      } else {\n        this.position = Position.BOTTOM\n      }\n    } else {\n      this.position = position\n    }\n\n    this.el.addEventListener('mouseenter', (event) => this.mouseEnter(event))\n    this.el.addEventListener('mouseleave', (event) => this.mouseLeave(event))\n    this.el.addEventListener('click', (event) => this.mouseLeave(event))\n    this.el.addEventListener('touchend', (event) => this.mouseLeave(event))\n  }\n\n  public onTick() {\n    if (this.tooltip !== null && this.tooltip.parentElement !== null) {\n      if (document.body.contains(this.el.parentElement) === false) {\n        document.body.removeChild(this.tooltip)\n      } else {\n        this.updatePosition.call(this)\n      }\n    }\n  }\n\n  public show() {\n    const text = this.el.getAttribute('alt')\n\n    this.tooltip = document.createElement('div')\n    this.tooltip.classList.add('tooltip', this.position)\n    this.tooltip.innerHTML = text\n\n    document.body.appendChild(this.tooltip)\n\n    const { left, top } = this.calculatePosition()\n\n    this.tooltip.style.left = left + 'px'\n    this.tooltip.style.top = top + 'px'\n  }\n\n  public hide() {\n    if (this.tooltip.parentElement) {\n      document.body.removeChild(this.tooltip)\n    }\n  }\n\n  private mouseEnter(this: Tooltip, event: UIEvent) {\n    this.show()\n  }\n\n  private mouseLeave(this: Tooltip, event: UIEvent) {\n    this.hide()\n  }\n\n  private updatePosition(this: Tooltip) {\n    const { left, top } = this.calculatePosition()\n\n    this.tooltip.style.left = left + 'px'\n    this.tooltip.style.top = top + 'px'\n  }\n\n  private calculatePosition() {\n    let left\n    let top\n\n    const position = this.el.getBoundingClientRect()\n\n    if (this.position === Position.BOTTOM) {\n      left = position.left + (this.el.offsetWidth / 2) - (this.tooltip.offsetWidth / 2)\n      top = position.top + this.el.offsetHeight + 10\n    } else if (this.position === Position.TOP) {\n      left = position.left + (this.el.offsetWidth / 2) - (this.tooltip.offsetWidth / 2)\n      top = position.top - this.tooltip.offsetHeight - 10\n    } else if (this.position === Position.LEFT) {\n      left = position.left - this.tooltip.offsetWidth - 10\n      top = position.top + (this.el.offsetHeight / 2) - (this.tooltip.offsetHeight / 2)\n    } else if (this.position === Position.RIGHT) {\n      left = position.left + this.el.offsetWidth + 10\n      top = position.top + (this.el.offsetHeight / 2) - (this.tooltip.offsetHeight / 2)\n    }\n\n    if (left < 0) {\n      left = 0\n    } else if (left + this.tooltip.offsetWidth > document.documentElement.scrollWidth) {\n      left = document.documentElement.scrollWidth - this.tooltip.offsetWidth\n    }\n\n    left = Math.round(left)\n    top = Math.round(top)\n\n    return {\n      left, top,\n    }\n  }\n\n}\n","import Props from './polyfills/props'\n\nexport default interface Module {\n  onTick()\n}\n\nexport default abstract class Module {\n  public el: HTMLElement\n\n  constructor(el: HTMLElement | string) {\n    if (el instanceof HTMLElement) {\n      this.el = el\n    } else {\n      this.el = document.querySelector(el)\n    }\n\n    if (this.el === null) {\n      throw new Error('Provided Element is null or cannot be found.')\n    }\n\n    if (this.onTick !== undefined) {\n      Props.get.addTickInstance(this)\n    }\n  }\n}\n","import Module from '../module';\n\nexport default class Modal extends Module {\n  private options: Options\n  private opened: boolean = false\n  private content: HTMLElement\n\n  constructor(el: HTMLElement | string, options: Options = {\n    closeable: true,\n  }) {\n    super(el)\n\n    this.content = this.el.querySelector('.modal-content')\n    this.options = options\n\n    this.bindEvents()\n  }\n\n  public open() {\n    this.el.classList.add('visible')\n    this.opened = true\n  }\n\n  public close() {\n    this.el.classList.remove('visible')\n    this.opened = false\n  }\n\n  public isOpened() {\n    return this.opened\n  }\n\n  public setCloseable(state: boolean) {\n    this.options.closeable = state\n    this.bindEvents()\n  }\n\n  public isCloseable(): boolean {\n    return this.options.closeable\n  }\n\n  private bindEvents() {\n    this.el.onclick = (this.options.closeable ? (event: MouseEvent) => {\n      if (this.content.contains(event.target as Node) === false) {\n        this.close()\n      }\n    } : null)\n  }\n}\n\nexport interface Options {\n  closeable: boolean\n}\n","import { debounce } from '../helpers'\nimport Scrollbar from './main'\n\nexport default class Events {\n  private scrollbar: Scrollbar\n  private currentY: number\n\n  constructor(scrollbar: Scrollbar) {\n    this.scrollbar = scrollbar\n\n    this.scrollbar.bar.onmousedown = event => this.mouseDown(event)\n    this.scrollbar.bar.ontouchstart = event => this.touchStart(event)\n\n    this.scrollbar.el.onscroll = event => this.userScrolled(event)\n\n    document.onmouseup = event => this.mouseUp(event)\n    document.ontouchend = event => this.touchEnd(event)\n  }\n\n  private mouseDown(this: Events, event: MouseEvent) {\n    event.preventDefault()\n    this.currentY = event.pageY\n    document.onmousemove = e => this.mouseMove(e)\n  }\n\n  private mouseMove(this: Events, event: MouseEvent) {\n    event.preventDefault()\n\n    const moveDistance = (event.pageY - this.currentY)\n    const scrollDistance = (moveDistance / this.scrollbar.maxPosition) * (this.scrollbar.scrollHeight - this.scrollbar.height)\n    this.currentY = event.pageY\n\n    this.scrollbar.move(scrollDistance)\n  }\n\n  private mouseUp(this: Events, event: MouseEvent) {\n    document.onmousemove = null\n  }\n\n  private touchStart(this: Events, event: TouchEvent) {\n    const touch = event.touches[0] || null\n    if (event.touches.length === 1 && touch !== null) {\n      this.currentY = touch.pageY\n      this.scrollbar.bar.ontouchmove = e => this.touchMove(e)\n    }\n  }\n\n  private touchMove(this: Events, event: TouchEvent) {\n    event.preventDefault()\n    const touch = event.touches[0] || null\n    if (event.touches.length === 1 && touch !== null) {\n      const moveDistance = (touch.pageY - this.currentY)\n      const scrollDistance = (moveDistance / this.scrollbar.maxPosition) * (this.scrollbar.scrollHeight - this.scrollbar.height)\n      this.currentY = touch.pageY\n\n      this.scrollbar.move(scrollDistance)\n    }\n  }\n\n  private touchEnd(this: Events, event: TouchEvent) {\n    document.ontouchmove = null\n  }\n\n  private userScrolled(this: Events, event: UIEvent) {\n    this.scrollbar.setBarPosition()\n  }\n}\n","import Module from '../module'\nimport Events from './events'\n\nexport default class Scrollbar extends Module {\n\n  public wrapper: HTMLElement\n  public scroll: HTMLElement\n  public bar: HTMLElement\n\n  public scrollHeight: number\n  public maxPosition: number = 0\n\n  public height: number\n  public width: number\n\n  private visibleProportion: number\n\n  private events: Events\n\n  private barHeight: number\n  private position: number = 0\n\n  private scrollClass: NodeJS.Timer = null\n\n  constructor(el: HTMLElement) {\n    super(el)\n\n    this.wrap()\n    this.createScroll()\n    this.calculateSizes()\n  }\n\n  public wrap() {\n    this.el.classList.add('scrollbar')\n\n    this.wrapper = document.createElement('div');\n    this.wrapper.className = 'scrollbar-wrapper'\n    this.el.parentNode.insertBefore(this.wrapper, this.el);\n    this.wrapper.appendChild(this.el);\n  }\n\n  public calculateSizes() {\n    this.height = this.el.clientHeight\n    this.scrollHeight = this.el.scrollHeight\n\n    this.el.style.width = null\n    this.width = this.el.clientWidth\n\n    const visibleProportion = this.height / this.scrollHeight\n\n    if (this.height * visibleProportion > 30) {\n      this.visibleProportion = visibleProportion\n      this.barHeight = this.height * visibleProportion\n    } else {\n      this.visibleProportion = 30 / this.height\n      this.barHeight = 30\n    }\n\n    this.maxPosition = this.height - this.barHeight\n\n    this.scroll.style.height = this.height + 'px'\n    this.bar.style.height = this.barHeight + 'px'\n\n    this.setBarPosition()\n  }\n\n  public move(distance: number) {\n    this.el.scrollTop = (distance + this.el.scrollTop)\n  }\n\n  public setBarPosition() {\n    const position = (this.el.scrollTop / (this.scrollHeight - this.height)) * this.maxPosition\n\n    if (position <= 0) {\n      this.position = 0;\n    } else if (position < this.maxPosition) {\n      this.position = position;\n    } else {\n      this.position = this.maxPosition;\n    }\n\n    this.bar.style.marginTop = this.position + 'px';\n\n    this.scroll.classList.add('scroll-active')\n    clearTimeout(this.scrollClass)\n    this.scrollClass = setTimeout(() => {\n      this.scroll.classList.remove('scroll-active')\n    }, 500)\n  }\n\n  public onTick() {\n    if (this.el.scrollHeight !== this.scrollHeight) {\n      this.calculateSizes.call(this)\n    }\n\n    if (this.height !== this.el.clientHeight || this.width !== this.el.clientWidth) {\n      this.calculateSizes.call(this)\n    }\n  }\n\n  private createScroll() {\n    this.scroll = document.createElement('div')\n    this.scroll.className = 'scrollbar-handler'\n\n    this.bar = document.createElement('div')\n    this.bar.className = 'bar'\n\n    this.scroll.appendChild(this.bar)\n\n    this.events = new Events(this)\n\n    this.el.parentElement.insertBefore(this.scroll, this.el.nextSibling)\n  }\n}\n","import Modal from './modal/main'\nimport Scrollbar from './scrollbar/main'\nimport Tooltip from './tooltip/main'\n\nconst version = '__VERSION__'\n\nexport { Modal, Scrollbar, Tooltip, version }\n\nexport default {\n  Scrollbar, Modal, Tooltip, version,\n}\n"]}