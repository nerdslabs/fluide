{"version":3,"sources":["../js/polyfills/props.ts","../js/tooltip/main.ts","../js/module.ts","../js/modal/main.ts","../js/scrollbar/events.ts","../js/scrollbar/main.ts","../js/fluide.ts"],"names":["Position","Props","_this","this","tickTimout","tickInstances","fps","setTimeout","tick","prototype","addTickInstance","c","push","forEach","instance","onTick","Object","defineProperty","window","_fluide","Module","el","HTMLElement","document","querySelector","Error","undefined","all","Modal","options","closeable","_super","call","opened","backdrop","createElement","className","__extends","open","style","display","parentElement","insertBefore","nextSibling","bindEvents","close","removeChild","isOpened","setCloseable","state","isCloseable","onclick","event","target","Events","scrollbar","isMac","navigator","platform","match","isWheeling","watcher","onwheel","mouseWheel","scroll","bar","onmousedown","mouseDown","onscroll","userScrolled","onmouseup","mouseUp","scrollHeight","calculateSizes","height","clientHeight","width","clientWidth","preventDefault","currentY","pageY","onmousemove","e","mouseMove","scrollDistance","maxPosition","move","distance","wheelDelta","deltaY","scrollTop","setBarPosition","Scrollbar","position","scrollClass","classList","add","createScroll","overflow","offsetWidth","visibleProportion","barHeight","indexOf","clearTimeout","replace","marginTop","appendChild","events","Tooltip","CLASS","TOP","LEFT","RIGHT","BOTTOM","onmouseenter","mouseEnter","onmouseleave","mouseLeave","text","getAttribute","tooltip","innerHTML","_a","calculatePosition","left","top","offsetLeft","offsetTop","version","fluide"],"mappings":"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","sourcesContent":["import Module from '../module'\n\nexport default class Props {\n  public tickTimout: NodeJS.Timer = null\n  public tickInstances: Module[] = []\n\n  private fps: number = 1000 / 24\n\n  constructor() {\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  public addTickInstance(c: Module) {\n    this.tickInstances.push(c)\n  }\n\n  public tick() {\n    this.tickInstances.forEach(instance => instance.onTick())\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  static get all(): Props {\n    if (typeof window._fluide === typeof undefined) {\n      window._fluide = new Props()\n    }\n\n    return window._fluide\n  }\n}\n\ndeclare global {\n  interface Window {\n    _fluide: Props\n  }\n}\n","import Module from '../module';\n\nexport enum Position {\n  TOP, BOTTOM, LEFT, RIGHT, CLASS,\n}\n\nexport default class Tooltip extends Module {\n  public static Position = Position\n\n  private tooltip: HTMLElement\n  private position: Position\n\n  constructor(el: HTMLElement | string, position: Position = Position.CLASS) {\n    super(el)\n\n    if (position === Position.CLASS) {\n      if (this.el.className.indexOf('tooltip-top') > -1) {\n        this.position = Position.TOP\n      } else if (this.el.className.indexOf('tooltip-left') > -1) {\n        this.position = Position.LEFT\n      } else if (this.el.className.indexOf('tooltip-right') > -1) {\n        this.position = Position.RIGHT\n      } else {\n        this.position = Position.BOTTOM\n      }\n    } else {\n      this.position = position\n    }\n\n    this.el.onmouseenter = (event) => this.mouseEnter(event)\n    this.el.onmouseleave = (event) => this.mouseLeave(event)\n  }\n\n  private mouseEnter(this: Tooltip, event: UIEvent) {\n    const text = this.el.getAttribute('alt')\n\n    this.tooltip = document.createElement('div')\n    this.tooltip.className = 'tooltip'\n    this.tooltip.innerHTML = text\n\n    this.el.parentElement.insertBefore(this.tooltip, this.el.nextSibling)\n\n    const { left, top } = this.calculatePosition()\n    this.tooltip.style.left = left + 'px'\n    this.tooltip.style.top = top + 'px'\n  }\n\n  private mouseLeave(this: Tooltip, event: UIEvent) {\n    this.el.parentElement.removeChild(this.tooltip)\n  }\n\n  private calculatePosition() {\n    let left\n    let top\n\n    if (this.position === Position.BOTTOM) {\n      left = this.el.offsetLeft + (this.el.clientWidth / 2) - (this.tooltip.clientWidth / 2)\n      top = this.el.offsetTop + this.el.clientHeight + 5\n    } else if (this.position === Position.TOP) {\n      left = this.el.offsetLeft + (this.el.clientWidth / 2) - (this.tooltip.clientWidth / 2)\n      top = this.el.offsetTop - this.tooltip.clientHeight - 5\n    } else if (this.position === Position.LEFT) {\n      left = this.el.offsetLeft - this.tooltip.clientWidth - 5\n      top = this.el.offsetTop + (this.el.clientHeight / 2) - (this.tooltip.clientHeight / 2)\n    } else if (this.position === Position.RIGHT) {\n      left = this.el.offsetLeft + this.el.clientWidth + 5\n      top = this.el.offsetTop + (this.el.clientHeight / 2) - (this.tooltip.clientHeight / 2)\n    }\n\n    return {\n      left, top,\n    }\n  }\n\n}\n","import Props from './polyfills/props'\n\nexport default interface Module {\n  onTick()\n}\n\nexport default abstract class Module {\n  public el: HTMLElement\n\n  constructor(el: HTMLElement | string) {\n    if (el instanceof HTMLElement) {\n      this.el = el\n    } else {\n      this.el = document.querySelector(el)\n    }\n\n    if (this.el === null) {\n      throw new Error('Provided Element is null or cannot be found.')\n    }\n\n    if (this.onTick !== undefined) {\n      Props.all.addTickInstance(this)\n    }\n  }\n}\n","import Module from '../module';\n\nexport default class Modal extends Module {\n  private options: Options\n  private opened: boolean = false\n  private backdrop: HTMLElement\n\n  constructor(el: HTMLElement | string, options: Options = {\n    closeable: true,\n  }) {\n    super(el)\n\n    this.options = options\n\n    this.backdrop = document.createElement('div')\n    this.backdrop.className = 'modal-backdrop'\n  }\n\n  public open() {\n    this.opened = true\n    this.el.style.display = 'block'\n\n    this.el.parentElement.insertBefore(this.backdrop, this.el.nextSibling)\n\n    this.bindEvents()\n  }\n\n  public close() {\n    this.opened = false\n    this.el.style.display = 'none'\n\n    this.el.parentElement.removeChild(this.backdrop)\n  }\n\n  public isOpened() {\n    return this.opened\n  }\n\n  public setCloseable(state: boolean) {\n    this.options.closeable = state\n    if (this.opened) {\n      this.bindEvents()\n    }\n  }\n\n  public isCloseable(): boolean {\n    return this.options.closeable\n  }\n\n  private bindEvents() {\n    this.backdrop.onclick = (this.options.closeable ? (event: MouseEvent) => {\n      if (this.backdrop === event.target) {\n        this.close()\n      }\n    } : null)\n  }\n}\n\nexport interface Options {\n  closeable: boolean\n}\n","import { debounce } from '../helpers'\nimport Scrollbar from './main'\n\nexport default class Events {\n  private scrollbar: Scrollbar\n  private currentY: number\n\n  private isMac: RegExpMatchArray = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)\n\n  private isWheeling: NodeJS.Timer = null\n\n  private watcher: NodeJS.Timer = null\n  private fps: number = 1000 / 24\n\n  constructor(scrollbar: Scrollbar) {\n    this.scrollbar = scrollbar\n\n    this.scrollbar.el.onwheel = event => this.mouseWheel(event)\n    this.scrollbar.scroll.onwheel = event => this.mouseWheel(event)\n    this.scrollbar.bar.onmousedown = event => this.mouseDown(event)\n    this.scrollbar.el.onscroll = event => this.userScrolled(event)\n\n    document.onmouseup = event => this.mouseUp(event)\n\n    // this.watcher = setTimeout(() => this.tick.call(this), this.fps);\n  }\n\n  private tick() {\n    this.watcher = setTimeout(() => this.tick.call(this), this.fps);\n\n    if (this.scrollbar.el.scrollHeight !== this.scrollbar.scrollHeight) {\n      this.scrollbar.calculateSizes.call(this.scrollbar)\n    }\n\n    if (this.scrollbar.height !== this.scrollbar.el.clientHeight || this.scrollbar.width !== this.scrollbar.el.clientWidth) {\n      this.scrollbar.calculateSizes.call(this.scrollbar)\n    }\n  }\n\n  private mouseDown(this: Events, event: MouseEvent) {\n    event.preventDefault()\n    this.currentY = event.pageY\n    document.onmousemove = e => this.mouseMove(e)\n  }\n\n  private mouseMove(this: Events, event: MouseEvent) {\n    event.preventDefault()\n\n    const moveDistance = (event.pageY - this.currentY)\n    const scrollDistance = (moveDistance / this.scrollbar.maxPosition) * (this.scrollbar.scrollHeight - this.scrollbar.height)\n    this.currentY = event.pageY\n\n    this.scrollbar.move(scrollDistance)\n  }\n\n  private mouseWheel(this: Events, event: WheelEvent) {\n    let distance = null\n\n    if (event.wheelDelta && (event.wheelDelta % 120) === 0) {\n      distance = -(event.wheelDelta / 10);\n    } else {\n      distance = event.deltaY\n    }\n\n    if ((distance > 0 && this.scrollbar.el.scrollTop < (this.scrollbar.scrollHeight - this.scrollbar.height)) || (distance < 0 && this.scrollbar.el.scrollTop > 0)) {\n      event.preventDefault()\n      this.scrollbar.move(distance)\n    }\n  }\n\n  private mouseUp(this: Events, event: MouseEvent) {\n    document.onmousemove = null\n  }\n\n  private userScrolled(this: Events, event: UIEvent) {\n    this.scrollbar.setBarPosition()\n  }\n}\n","import Module from '../module'\nimport Events from './events'\n\nexport default class Scrollbar extends Module {\n\n  public scroll: HTMLElement\n  public bar: HTMLElement\n\n  public scrollHeight: number\n  public maxPosition: number = 0\n\n  public height: number\n  public width: number\n\n  private visibleProportion: number\n\n  private events: Events\n\n  private barHeight: number\n  private position: number = 0\n\n  private scrollClass: NodeJS.Timer = null\n\n  constructor(el: HTMLElement) {\n    super(el)\n\n    this.el.classList.add('scroll-content')\n\n    this.createScroll()\n    this.calculateSizes()\n  }\n\n  public calculateSizes() {\n    this.el.style.overflow = 'auto'\n    this.height = this.el.clientHeight\n    this.scrollHeight = this.el.scrollHeight\n    this.el.style.overflow = 'hidden'\n    this.el.style.display = 'inline-block'\n\n    this.el.style.width = null\n    this.el.style.width = 'calc(100% - ' + this.scroll.offsetWidth + 'px)'\n    this.width = this.el.clientWidth\n\n    const visibleProportion = this.height / this.scrollHeight\n\n    if (this.height * visibleProportion > 30) {\n      this.visibleProportion = visibleProportion\n      this.barHeight = this.height * visibleProportion\n    } else {\n      this.visibleProportion = 30 / this.height\n      this.barHeight = 30\n    }\n\n    this.maxPosition = this.height - this.barHeight\n\n    this.scroll.style.height = this.height + 'px'\n    this.bar.style.height = this.barHeight + 'px'\n\n    this.setBarPosition()\n  }\n\n  public move(distance: number) {\n    this.el.scrollTop = (distance + this.el.scrollTop)\n\n    this.scroll.className = this.scroll.className.indexOf('scroll-active') > 0 ? this.scroll.className : this.scroll.className + ' scroll-active'\n    clearTimeout(this.scrollClass)\n    this.scrollClass = setTimeout(() => {\n      this.scroll.className = this.scroll.className.replace(/\\s*scroll-active\\s*/g, '')\n    }, 500)\n  }\n\n  public setBarPosition() {\n    const position = (this.el.scrollTop / (this.scrollHeight - this.height)) * this.maxPosition\n\n    if (position <= 0) {\n      this.position = 0;\n    } else if (position < this.maxPosition) {\n      this.position = position;\n    } else {\n      this.position = this.maxPosition;\n    }\n\n    this.bar.style.marginTop = this.position + 'px';\n  }\n\n  public onTick() {\n    if (this.el.scrollHeight !== this.scrollHeight) {\n      this.calculateSizes.call(this)\n    }\n\n    if (this.height !== this.el.clientHeight || this.width !== this.el.clientWidth) {\n      this.calculateSizes.call(this)\n    }\n  }\n\n  private createScroll() {\n    this.scroll = document.createElement('div')\n    this.scroll.classList.add('scroll-bar')\n\n    this.bar = document.createElement('div')\n    this.bar.classList.add('bar')\n\n    this.scroll.appendChild(this.bar)\n\n    this.events = new Events(this)\n\n    this.el.parentElement.insertBefore(this.scroll, this.el.nextSibling)\n  }\n}\n","import Modal from './modal/main'\nimport Scrollbar from './scrollbar/main'\nimport Tooltip from './tooltip/main'\n\nconst version = '__VERSION__'\n\nexport { Modal, Scrollbar, Tooltip, version }\n\nexport default {\n  Scrollbar, Modal, Tooltip, version,\n}\n"]}