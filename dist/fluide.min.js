/*!
 * Fluide v1.0.0-alpha.1
 * (c) 2019 nerdslabs
 * Released under the MIT License.
 */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports):"function"==typeof define&&define.amd?define(["exports"],o):o(t.Fluide={})}(this,function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var i=function(t,o){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)};function o(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var e=(s.prototype.addTickInstance=function(t){this.tickInstances.push(t)},s.prototype.tick=function(){var t=this;this.tickInstances.forEach(function(t){return t.onTick()}),this.tickTimout=setTimeout(function(){return t.tick()},this.fps)},Object.defineProperty(s,"get",{get:function(){return"undefined"==typeof window._fluide&&(window._fluide=new s),window._fluide},enumerable:!0,configurable:!0}),s);function s(){var t=this;this.tickTimout=null,this.tickInstances=[],this.fps=1e3/24,this.tickTimout=setTimeout(function(){return t.tick()},this.fps)}function n(t){if(t instanceof HTMLElement?this.el=t:this.el=document.querySelector(t),null===this.el)throw new Error("Provided Element is null or cannot be found.");void 0!==this.onTick&&e.get.addTickInstance(this)}var l,r=(o(h,l=n),h.prototype.open=function(){this.el.classList.add("visible"),this.opened=!0},h.prototype.close=function(){this.el.classList.remove("visible"),this.opened=!1},h.prototype.isOpened=function(){return this.opened},h.prototype.setCloseable=function(t){this.options.closeable=t,this.bindEvents()},h.prototype.isCloseable=function(){return this.options.closeable},h.prototype.bindEvents=function(){var o=this;this.el.onclick=this.options.closeable?function(t){!1===o.content.contains(t.target)&&o.close()}:null},h);function h(t,o){void 0===o&&(o={closeable:!0});var e=l.call(this,t)||this;return e.opened=!1,e.content=e.el.querySelector(".modal-content"),e.options=o,e.bindEvents(),e}var c=(a.prototype.mouseDown=function(t){var o=this;t.preventDefault(),this.currentY=t.pageY,document.onmousemove=function(t){return o.mouseMove(t)}},a.prototype.mouseMove=function(t){t.preventDefault();var o=(t.pageY-this.currentY)/this.scrollbar.maxPosition*(this.scrollbar.scrollHeight-this.scrollbar.height);this.currentY=t.pageY,this.scrollbar.move(o)},a.prototype.mouseUp=function(t){document.onmousemove=null},a.prototype.touchStart=function(t){var o=this,e=t.touches[0]||null;1===t.touches.length&&null!==e&&(this.currentY=e.pageY,this.scrollbar.bar.ontouchmove=function(t){return o.touchMove(t)})},a.prototype.touchMove=function(t){t.preventDefault();var o=t.touches[0]||null;if(1===t.touches.length&&null!==o){var e=(o.pageY-this.currentY)/this.scrollbar.maxPosition*(this.scrollbar.scrollHeight-this.scrollbar.height);this.currentY=o.pageY,this.scrollbar.move(e)}},a.prototype.touchEnd=function(t){document.ontouchmove=null},a.prototype.userScrolled=function(t){this.scrollbar.setBarPosition()},a);function a(t){var o=this;this.scrollbar=t,this.scrollbar.bar.onmousedown=function(t){return o.mouseDown(t)},this.scrollbar.bar.ontouchstart=function(t){return o.touchStart(t)},this.scrollbar.el.onscroll=function(t){return o.userScrolled(t)},document.onmouseup=function(t){return o.mouseUp(t)},document.ontouchend=function(t){return o.touchEnd(t)}}var p,u,f,d=(o(m,p=n),m.prototype.wrap=function(){this.el.classList.add("scrollbar"),this.wrapper=document.createElement("div"),this.wrapper.className="scrollbar-wrapper",this.el.parentNode.insertBefore(this.wrapper,this.el),this.wrapper.appendChild(this.el)},m.prototype.calculateSizes=function(){this.height=this.el.clientHeight,this.scrollHeight=this.el.scrollHeight,this.el.style.width=null,this.width=this.el.clientWidth;var t=this.height/this.scrollHeight;30<this.height*t?(this.visibleProportion=t,this.barHeight=this.height*t):(this.visibleProportion=30/this.height,this.barHeight=30),this.maxPosition=this.height-this.barHeight,this.scroll.style.height=this.height+"px",this.bar.style.height=this.barHeight+"px",this.setBarPosition()},m.prototype.move=function(t){this.el.scrollTop=t+this.el.scrollTop},m.prototype.setBarPosition=function(){var t=this,o=this.el.scrollTop/(this.scrollHeight-this.height)*this.maxPosition;o<=0?this.position=0:o<this.maxPosition?this.position=o:this.position=this.maxPosition,this.bar.style.marginTop=this.position+"px",this.scroll.classList.add("scroll-active"),clearTimeout(this.scrollClass),this.scrollClass=setTimeout(function(){t.scroll.classList.remove("scroll-active")},500)},m.prototype.onTick=function(){this.el.scrollHeight!==this.scrollHeight&&this.calculateSizes.call(this),this.height===this.el.clientHeight&&this.width===this.el.clientWidth||this.calculateSizes.call(this)},m.prototype.createScroll=function(){this.scroll=document.createElement("div"),this.scroll.className="scrollbar-handler",this.bar=document.createElement("div"),this.bar.className="bar",this.scroll.appendChild(this.bar),this.events=new c(this),this.el.parentElement.insertBefore(this.scroll,this.el.nextSibling)},m);function m(t){var o=p.call(this,t)||this;return o.maxPosition=0,o.position=0,o.scrollClass=null,o.wrap(),o.createScroll(),o.calculateSizes(),o}(f=u=u||{}).TOP="tooltip-top",f.BOTTOM="tooltip-bottom",f.LEFT="tooltip-left",f.RIGHT="tooltip-right",f.CLASS="";var v,b=(o(y,v=n),y.prototype.onTick=function(){null!==this.tooltip&&null!==this.tooltip.parentElement&&(!1===document.body.contains(this.el.parentElement)?document.body.removeChild(this.tooltip):this.updatePosition.call(this))},y.prototype.show=function(){var t=this.el.getAttribute("alt");this.tooltip=document.createElement("div"),this.tooltip.classList.add("tooltip",this.position),this.tooltip.innerHTML=t,document.body.appendChild(this.tooltip);var o=this.calculatePosition(),e=o.left,i=o.top;this.tooltip.style.left=e+"px",this.tooltip.style.top=i+"px"},y.prototype.hide=function(){this.tooltip.parentElement&&document.body.removeChild(this.tooltip)},y.prototype.mouseEnter=function(t){this.show()},y.prototype.mouseLeave=function(t){this.hide()},y.prototype.updatePosition=function(){var t=this.calculatePosition(),o=t.left,e=t.top;this.tooltip.style.left=o+"px",this.tooltip.style.top=e+"px"},y.prototype.calculatePosition=function(){var t,o,e=this.el.getBoundingClientRect();return this.position===u.BOTTOM?(t=e.left+this.el.offsetWidth/2-this.tooltip.offsetWidth/2,o=e.top+this.el.offsetHeight+10):this.position===u.TOP?(t=e.left+this.el.offsetWidth/2-this.tooltip.offsetWidth/2,o=e.top-this.tooltip.offsetHeight-10):this.position===u.LEFT?(t=e.left-this.tooltip.offsetWidth-10,o=e.top+this.el.offsetHeight/2-this.tooltip.offsetHeight/2):this.position===u.RIGHT&&(t=e.left+this.el.offsetWidth+10,o=e.top+this.el.offsetHeight/2-this.tooltip.offsetHeight/2),t<0?t=0:t+this.tooltip.offsetWidth>document.documentElement.scrollWidth&&(t=document.documentElement.scrollWidth-this.tooltip.offsetWidth),{left:t=Math.round(t),top:o=Math.round(o)}},y.Position=u,y);function y(t,o){void 0===o&&(o=u.CLASS);var e=v.call(this,t)||this;return e.tooltip=null,o===u.CLASS?-1<e.el.className.indexOf("tooltip-top")?e.position=u.TOP:-1<e.el.className.indexOf("tooltip-left")?e.position=u.LEFT:-1<e.el.className.indexOf("tooltip-right")?e.position=u.RIGHT:e.position=u.BOTTOM:e.position=o,e.el.addEventListener("mouseenter",function(t){return e.mouseEnter(t)}),e.el.addEventListener("mouseleave",function(t){return e.mouseLeave(t)}),e.el.addEventListener("click",function(t){return e.mouseLeave(t)}),e.el.addEventListener("touchend",function(t){return e.mouseLeave(t)}),e}var g="1.0.0-alpha.1",T={Scrollbar:d,Modal:r,Tooltip:b,version:g};t.Modal=r,t.Scrollbar=d,t.Tooltip=b,t.version=g,t.default=T,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=fluide.min.js.map