/*!
 * Fluide v1.0.0-alpha.1
 * (c) 2018 nerdslabs
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Fluide={})}(this,function(t){"use strict";function e(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function s(){this.constructor=t}t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}var i=function(){function t(t,e){void 0===e&&(e={closeable:!0}),this.isOpened=!1,t instanceof HTMLElement?this.el=t:this.el=document.querySelector(t),this.options=e,this.backdrop=document.createElement("div"),this.backdrop.className="modal-backdrop"}return t.prototype.open=function(){this.isOpened=!0,this.el.style.display="block",this.el.parentElement.insertBefore(this.backdrop,this.el.nextSibling),this.bindEvents()},t.prototype.close=function(){this.isOpened=!1,this.el.style.display="none",this.el.parentElement.removeChild(this.backdrop)},Object.defineProperty(t.prototype,"closeable",{get:function(){return this.options.closeable},set:function(t){this.options.closeable=t},enumerable:!0,configurable:!0}),t.prototype.bindEvents=function(){var e=this;this.backdrop.onclick=this.options.closeable?function(t){e.backdrop===t.target&&e.close()}:null},t}(),s=function(t){if(t instanceof HTMLElement?this.el=t:this.el=document.querySelector(t),null===this.el)throw new Error("Provided Element is null or cannot be found.")},o=function(){function t(t){var e=this;this.isMac=navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),this.isScroling=!1,this.isWheeling=null,this.watcher=null,this.fps=1e3/24,this.scrollbar=t,this.scrollbar.el.onwheel=function(t){return e.mouseWheel(t)},this.scrollbar.scroll.onwheel=function(t){return e.mouseWheel(t)},this.scrollbar.bar.onmousedown=function(t){return e.mouseDown(t)},this.scrollbar.el.onscroll=function(t){return e.userScrolled(t)},document.onmouseup=function(t){return e.mouseUp(t)},this.lastWatched=Date.now(),this.watcher=setTimeout(function(){return e.tick.call(e)},this.fps)}return t.prototype.tick=function(){var t=this;clearTimeout(this.watcher),this.watcher=setTimeout(function(){return t.tick.call(t)},this.fps);var e=Date.now()-this.lastWatched;e>this.fps&&(this.lastWatched=Date.now()-e%this.fps,this.scrollbar.el.scrollHeight!==this.scrollbar.scrollHeight&&this.scrollbar.calculateSizes.call(this.scrollbar),this.scrollbar.height===this.scrollbar.el.clientHeight&&this.scrollbar.width===this.scrollbar.el.clientWidth||this.scrollbar.calculateSizes.call(this.scrollbar))},t.prototype.mouseDown=function(t){var e=this;t.preventDefault(),this.isScroling=!0,this.currentY=t.pageY,document.onmousemove=function(t){return e.mouseMove(t)}},t.prototype.mouseMove=function(t){t.preventDefault();var e=(t.pageY-this.currentY)/this.scrollbar.maxPosition*(this.scrollbar.scrollHeight-this.scrollbar.height);this.currentY=t.pageY,this.scrollbar.move(e)},t.prototype.mouseWheel=function(t){var e=this;t.preventDefault(),this.isScroling=!0;var i=null;if(t.wheelDelta)i=-(t.wheelDelta%120-0==-0?t.wheelDelta/10:t.wheelDelta);else{var s=t.deltaY?t.deltaY:t.detail;i=-(s%3?10*s:s/3)}this.scrollbar.move(i),clearTimeout(this.isWheeling),this.isWheeling=setTimeout(function(){e.isScroling=!1},250)},t.prototype.mouseUp=function(t){document.onmousemove=null,this.isScroling=!1},t.prototype.userScrolled=function(t){this.scrollbar.setBarPosition()},t}(),l=function(i){function t(t){var e=i.call(this,t)||this;return e.maxPosition=0,e.position=0,e.scrollClass=null,e.el.classList.add("scroll-content"),e.createScroll(),e.calculateSizes(),e}return e(t,i),t.prototype.calculateSizes=function(){this.el.style.overflow="auto",this.height=this.el.clientHeight,this.scrollHeight=this.el.scrollHeight,this.el.style.overflow="hidden",this.el.style.display="inline-block",this.el.style.width=null,this.el.style.width="calc(100% - "+this.scroll.offsetWidth+"px)",this.width=this.el.clientWidth;var t=this.height/this.scrollHeight;30<this.height*t?(this.visibleProportion=t,this.barHeight=this.height*t):(this.visibleProportion=30/this.height,this.barHeight=30),this.maxPosition=this.height-this.barHeight,this.scroll.style.height=this.height+"px",this.bar.style.height=this.barHeight+"px",this.setBarPosition()},t.prototype.move=function(t){var e=this;this.el.scrollTop=t+this.el.scrollTop,this.scroll.className=0<this.scroll.className.indexOf("scroll-active")?this.scroll.className:this.scroll.className+" scroll-active",clearTimeout(this.scrollClass),this.scrollClass=setTimeout(function(){e.scroll.className=e.scroll.className.replace(/\s*scroll-active\s*/g,"")},500)},t.prototype.setBarPosition=function(){var t=this.el.scrollTop/(this.scrollHeight-this.height)*this.maxPosition;t<=0?this.position=0:t<this.maxPosition?this.position=t:this.position=this.maxPosition,this.bar.style.marginTop=this.position+"px"},t.prototype.createScroll=function(){this.scroll=document.createElement("div"),this.scroll.classList.add("scroll-bar"),this.bar=document.createElement("div"),this.bar.classList.add("bar"),this.scroll.appendChild(this.bar),this.events=new o(this),this.el.parentElement.insertBefore(this.scroll,this.el.nextSibling)},t}(s),r=function(i){function t(t){var e=i.call(this,t)||this;return e.el.onmouseenter=function(t){return e.mouseEnter(t)},e.el.onmouseleave=function(t){return e.mouseLeave(t)},e}return e(t,i),t.prototype.mouseEnter=function(t){var e=this.el.getAttribute("alt");this.tooltip=document.createElement("div"),this.tooltip.className="tooltip",this.tooltip.innerHTML=e,this.el.parentElement.insertBefore(this.tooltip,this.el.nextSibling);var i=this.getPosition(),s=i.left,o=i.top;this.tooltip.style.left=s+"px",this.tooltip.style.top=o+"px"},t.prototype.mouseLeave=function(t){this.el.parentElement.removeChild(this.tooltip)},t.prototype.getPosition=function(){return{left:this.el.offsetLeft+this.el.clientWidth/2-this.tooltip.clientWidth/2,top:this.el.offsetTop+this.el.clientHeight+5}},t}(s),n="1.0.0-alpha.1",h={Scrollbar:l,Modal:i,Tooltip:r,version:n};t.Modal=i,t.Scrollbar=l,t.Tooltip=r,t.version=n,t.default=h,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=fluide.min.js.map