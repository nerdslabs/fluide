{"version":3,"file":"fluide.js","sources":["../ts/polyfills/props.ts","../ts/module.ts","../ts/modal/main.ts","../ts/scrollbar/events.ts","../ts/scrollbar/main.ts","../ts/tooltip/main.ts","../ts/fluide.ts"],"sourcesContent":["import Module from '../module'\n\nexport default class Props {\n  public tickTimout: NodeJS.Timer = null\n  public tickInstances: Module[] = []\n\n  private fps: number = 1000 / 24\n\n  constructor() {\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  public addTickInstance(c: Module) {\n    this.tickInstances.push(c)\n  }\n\n  public tick() {\n    this.tickInstances.forEach(instance => instance.onTick())\n    this.tickTimout = setTimeout(() => this.tick(), this.fps)\n  }\n\n  static get get(): Props {\n    if (typeof window._fluide === typeof undefined) {\n      window._fluide = new Props()\n    }\n\n    return window._fluide\n  }\n}\n\ndeclare global {\n  interface Window {\n    _fluide: Props\n  }\n}\n","import Props from './polyfills/props'\n\nexport default interface Module {\n  onTick()\n}\n\nexport default abstract class Module {\n  public el: HTMLElement\n\n  constructor(el: HTMLElement | string) {\n    if (el instanceof HTMLElement) {\n      this.el = el\n    } else {\n      this.el = document.querySelector(el)\n    }\n\n    if (this.el === null) {\n      throw new Error('Provided Element is null or cannot be found.')\n    }\n\n    if (this.onTick !== undefined) {\n      Props.get.addTickInstance(this)\n    }\n  }\n}\n","import Module from '../module';\n\nexport default class Modal extends Module {\n  private options: Options\n  private opened: boolean = false\n  private content: HTMLElement\n\n  constructor(el: HTMLElement | string, options: Options = {\n    closeable: true,\n  }) {\n    super(el)\n\n    this.content = this.el.querySelector('.modal-content')\n    this.options = options\n\n    this.bindEvents()\n  }\n\n  public open() {\n    this.el.classList.add('visible')\n    this.opened = true\n  }\n\n  public close() {\n    this.el.classList.remove('visible')\n    this.opened = false\n  }\n\n  public isOpened() {\n    return this.opened\n  }\n\n  public setCloseable(state: boolean) {\n    this.options.closeable = state\n    this.bindEvents()\n  }\n\n  public isCloseable(): boolean {\n    return this.options.closeable\n  }\n\n  private bindEvents() {\n    this.el.onclick = (this.options.closeable ? (event: MouseEvent) => {\n      if (this.content.contains(event.target as Node) === false) {\n        this.close()\n      }\n    } : null)\n  }\n}\n\nexport interface Options {\n  closeable: boolean\n}\n","import { debounce } from '../helpers'\nimport Scrollbar from './main'\n\nexport default class Events {\n  private scrollbar: Scrollbar\n  private currentY: number\n\n  private isMac: RegExpMatchArray = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)\n\n  private isWheeling: NodeJS.Timer = null\n\n  private watcher: NodeJS.Timer = null\n  private fps: number = 1000 / 24\n\n  constructor(scrollbar: Scrollbar) {\n    this.scrollbar = scrollbar\n\n    this.scrollbar.el.onwheel = event => this.mouseWheel(event)\n    this.scrollbar.scroll.onwheel = event => this.mouseWheel(event)\n    this.scrollbar.bar.onmousedown = event => this.mouseDown(event)\n    this.scrollbar.el.onscroll = event => this.userScrolled(event)\n\n    this.scrollbar.el.ontouchstart = event => this.touchStart(event)\n\n    document.onmouseup = event => this.mouseUp(event)\n    document.ontouchend = event => this.touchEnd(event)\n  }\n\n  private mouseDown(this: Events, event: MouseEvent) {\n    event.preventDefault()\n    this.currentY = event.pageY\n    document.onmousemove = e => this.mouseMove(e)\n  }\n\n  private mouseMove(this: Events, event: MouseEvent) {\n    event.preventDefault()\n\n    const moveDistance = (event.pageY - this.currentY)\n    const scrollDistance = (moveDistance / this.scrollbar.maxPosition) * (this.scrollbar.scrollHeight - this.scrollbar.height)\n    this.currentY = event.pageY\n\n    this.scrollbar.move(scrollDistance)\n  }\n\n  private mouseWheel(this: Events, event: WheelEvent) {\n    let distance = null\n\n    if (event.wheelDelta && (event.wheelDelta % 120) === 0) {\n      distance = -(event.wheelDelta / 10);\n    } else {\n      distance = event.deltaY\n    }\n\n    if ((distance > 0 && this.scrollbar.el.scrollTop < (this.scrollbar.scrollHeight - this.scrollbar.height)) || (distance < 0 && this.scrollbar.el.scrollTop > 0)) {\n      event.preventDefault()\n      this.scrollbar.move(distance)\n    }\n  }\n\n  private mouseUp(this: Events, event: MouseEvent) {\n    document.onmousemove = null\n  }\n\n  private touchStart(this: Events, event: TouchEvent) {\n    const touch = event.touches[0] || null\n    if (event.touches.length === 1 && touch !== null) {\n      this.currentY = touch.pageY\n      this.scrollbar.el.ontouchmove = e => this.touchMove(e)\n    }\n  }\n\n  private touchMove(this: Events, event: TouchEvent) {\n    event.preventDefault()\n    const touch = event.touches[0] || null\n    if (event.touches.length === 1 && touch !== null) {\n      const moveDistance = (touch.pageY - this.currentY)\n      const scrollDistance = -moveDistance\n      this.currentY = touch.pageY\n\n      this.scrollbar.move(scrollDistance)\n    }\n  }\n\n  private touchEnd(this: Events, event: TouchEvent) {\n    document.ontouchmove = null\n  }\n\n  private userScrolled(this: Events, event: UIEvent) {\n    this.scrollbar.setBarPosition()\n  }\n}\n","import Module from '../module'\nimport Events from './events'\n\nexport default class Scrollbar extends Module {\n\n  public scroll: HTMLElement\n  public bar: HTMLElement\n\n  public scrollHeight: number\n  public maxPosition: number = 0\n\n  public height: number\n  public width: number\n\n  private visibleProportion: number\n\n  private events: Events\n\n  private barHeight: number\n  private position: number = 0\n\n  private scrollClass: NodeJS.Timer = null\n\n  constructor(el: HTMLElement) {\n    super(el)\n\n    this.createScroll()\n    this.calculateSizes()\n  }\n\n  public calculateSizes() {\n    this.el.style.overflow = 'auto'\n    this.height = this.el.clientHeight\n    this.scrollHeight = this.el.scrollHeight\n    this.el.style.overflow = 'hidden'\n    this.el.style.display = 'inline-block'\n\n    this.el.style.width = null\n    this.el.style.width = 'calc(100% - ' + this.scroll.offsetWidth + 'px)'\n    this.width = this.el.clientWidth\n\n    const visibleProportion = this.height / this.scrollHeight\n\n    if (this.height * visibleProportion > 30) {\n      this.visibleProportion = visibleProportion\n      this.barHeight = this.height * visibleProportion\n    } else {\n      this.visibleProportion = 30 / this.height\n      this.barHeight = 30\n    }\n\n    this.maxPosition = this.height - this.barHeight\n\n    this.scroll.style.height = this.height + 'px'\n    this.bar.style.height = this.barHeight + 'px'\n\n    this.setBarPosition()\n  }\n\n  public move(distance: number) {\n    this.el.scrollTop = (distance + this.el.scrollTop)\n\n    this.scroll.className = this.scroll.className.indexOf('scroll-active') > 0 ? this.scroll.className : this.scroll.className + ' scroll-active'\n    clearTimeout(this.scrollClass)\n    this.scrollClass = setTimeout(() => {\n      this.scroll.className = this.scroll.className.replace(/\\s*scroll-active\\s*/g, '')\n    }, 500)\n  }\n\n  public setBarPosition() {\n    const position = (this.el.scrollTop / (this.scrollHeight - this.height)) * this.maxPosition\n\n    if (position <= 0) {\n      this.position = 0;\n    } else if (position < this.maxPosition) {\n      this.position = position;\n    } else {\n      this.position = this.maxPosition;\n    }\n\n    this.bar.style.marginTop = this.position + 'px';\n  }\n\n  public onTick() {\n    if (this.el.scrollHeight !== this.scrollHeight) {\n      this.calculateSizes.call(this)\n    }\n\n    if (this.height !== this.el.clientHeight || this.width !== this.el.clientWidth) {\n      this.calculateSizes.call(this)\n    }\n  }\n\n  private createScroll() {\n    this.scroll = document.createElement('div')\n    this.scroll.className = 'scrollbar-handler'\n\n    this.bar = document.createElement('div')\n    this.bar.className = 'bar'\n\n    this.scroll.appendChild(this.bar)\n\n    this.events = new Events(this)\n\n    this.el.parentElement.insertBefore(this.scroll, this.el.nextSibling)\n  }\n}\n","import Module from '../module';\n\nexport enum Position {\n  TOP = 'tooltip-top',\n  BOTTOM = 'tooltip-bottom',\n  LEFT = 'tooltip-left',\n  RIGHT = 'tooltip-right',\n  CLASS = '',\n}\n\nexport default class Tooltip extends Module {\n  public static Position = Position\n\n  private tooltip: HTMLElement = null\n  private position: Position\n\n  constructor(el: HTMLElement | string, position: Position = Position.CLASS) {\n    super(el)\n\n    if (position === Position.CLASS) {\n      if (this.el.className.indexOf('tooltip-top') > -1) {\n        this.position = Position.TOP\n      } else if (this.el.className.indexOf('tooltip-left') > -1) {\n        this.position = Position.LEFT\n      } else if (this.el.className.indexOf('tooltip-right') > -1) {\n        this.position = Position.RIGHT\n      } else {\n        this.position = Position.BOTTOM\n      }\n    } else {\n      this.position = position\n    }\n\n    this.el.addEventListener('mouseenter', (event) => this.mouseEnter(event))\n    this.el.addEventListener('mouseleave', (event) => this.mouseLeave(event))\n    this.el.addEventListener('touchend', (event) => this.mouseLeave(event))\n  }\n\n  public onTick() {\n    if (this.tooltip !== null && this.tooltip.parentElement !== null) {\n      this.elementMoved.call(this)\n\n      if (this.el.parentElement === null) {\n        document.body.removeChild(this.tooltip)\n        window.onscroll = null\n      }\n    }\n  }\n\n  private mouseEnter(this: Tooltip, event: UIEvent) {\n    const text = this.el.getAttribute('alt')\n\n    this.tooltip = document.createElement('div')\n    this.tooltip.classList.add('tooltip', this.position)\n    this.tooltip.innerHTML = text\n\n    document.body.appendChild(this.tooltip)\n\n    const { left, top } = this.calculatePosition()\n\n    this.tooltip.style.left = left + 'px'\n    this.tooltip.style.top = top + 'px'\n\n    // window.onscroll = this.mouseScroll.bind(this)\n  }\n\n  private mouseLeave(this: Tooltip, event: UIEvent) {\n    document.body.removeChild(this.tooltip)\n\n    // window.onscroll = null\n  }\n\n  private elementMoved(this: Tooltip, event: UIEvent) {\n    const { left, top } = this.calculatePosition()\n\n    this.tooltip.style.left = left + 'px'\n    this.tooltip.style.top = top + 'px'\n  }\n\n  private calculatePosition() {\n    let left\n    let top\n\n    const position = this.el.getBoundingClientRect()\n\n    if (this.position === Position.BOTTOM) {\n      left = position.left + (this.el.offsetWidth / 2) - (this.tooltip.offsetWidth / 2)\n      top = position.top + this.el.offsetHeight + 10\n    } else if (this.position === Position.TOP) {\n      left = position.left + (this.el.offsetWidth / 2) - (this.tooltip.offsetWidth / 2)\n      top = position.top - this.tooltip.offsetHeight - 10\n    } else if (this.position === Position.LEFT) {\n      left = position.left - this.tooltip.offsetWidth - 10\n      top = position.top + (this.el.offsetHeight / 2) - (this.tooltip.offsetHeight / 2)\n    } else if (this.position === Position.RIGHT) {\n      left = position.left + this.el.offsetWidth + 10\n      top = position.top + (this.el.offsetHeight / 2) - (this.tooltip.offsetHeight / 2)\n    }\n\n    if (left < 0) {\n      left = 0\n    } else if (left + this.tooltip.offsetWidth > document.documentElement.scrollWidth) {\n      left = document.documentElement.scrollWidth - this.tooltip.offsetWidth\n    }\n\n    return {\n      left, top,\n    }\n  }\n\n}\n","import Modal from './modal/main'\nimport Scrollbar from './scrollbar/main'\nimport Tooltip from './tooltip/main'\n\nconst version = '__VERSION__'\n\nexport { Modal, Scrollbar, Tooltip, version }\n\nexport default {\n  Scrollbar, Modal, Tooltip, version,\n}\n"],"names":[],"mappings":"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"}